---
layout: post
title:  "Effettuare la login SSH senza digitare la password."
date:   2014-01-12 22:45:33
tags: [linux ssh]
image:
  feature: so-simple-sample-image-1.jpg
  credit: Michael Rose
  creditlink: http://mademistakes.com
comments: false
share: true
---

# Cosa
Se vuoi usare Linux e OpenSSH per automatizzare le tue attività hai necessità di poter effettuare la login automatica dal un host *A* / user *a* ad un host *B* / user *b*. 

# Perchè
Non vuoi inserire nessuna password, perchè vuoi chiamare ssh all'interno di uno script di shell.

# Come
Per prima cosa effettuare la login in su *A* come utente a e genera una coppia di chiavi di autenticazione. Non inserire un passphrase:

{% highlight bash %}
a@A:~> ssh-keygen -t rsa

Generating public/private rsa key pair.
Enter file in which to save the key (/home/a/.ssh/id_rsa): 
Created directory '/home/a/.ssh'.
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/a/.ssh/id_rsa.
Your public key has been saved in /home/a/.ssh/id_rsa.pub.
The key fingerprint is:
xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx a@A
{% endhighlight %}

Ora usa ssh per creare una directory ~/.ssh come utente *b* su *B*: 

{% highlight bash %}
a@A:~> ssh b@B mkdir -p .ssh
b@B's password: 
{% endhighlight %}

Infine accoda la nuova public key dell'utente a su *b@B:.ssh/authorized_keys* e inserisci la password di *b* l'ultima volta:

{% highlight bash %}
a@A:~> cat .ssh/id_rsa.pub | ssh b@B 'cat >> .ssh/authorized_keys'
b@B's password: 
{% endhighlight %}

Da questo momento tu puoi loggarti in *B* come utente *b* da *A* come utente *a* senza password:

{% highlight bash %}
a@A:~> ssh b@B
{% endhighlight %}

