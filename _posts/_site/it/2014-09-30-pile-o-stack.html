<p>﻿
Uno dei tipo base più ricorrente è la Pila o Stack, una specifica in pseudolinguaggio è riportata sotto.</p>

<div class="highlight"><pre><code class="bash">tipo: Pila
dati: una sequenza S di n elementi
operazioni
isEmpty<span class="o">()</span> -&gt; result , <span class="nv">result</span><span class="o">=</span><span class="nb">true </span>sse <span class="nv">S</span><span class="o">=</span>O, <span class="nb">false </span>altrimenti
push<span class="o">(</span>elem e<span class="o">)</span> aggiunge e come ultimo elemento di S
pop<span class="o">()</span>-&gt; elem , toglie da S l’ultimo elemento e lo restituisce
top<span class="o">()</span>-&gt;elem restituisce l’ultimo elemento di S <span class="o">(</span>senza toglierlo da S<span class="o">)</span></code></pre></div>

<p>In Java potremmo rendere la specifica come un interfaccia </p>

<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Pila</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">();</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">push</span><span class="o">(</span><span class="n">E</span> <span class="n">e</span><span class="o">);</span>
    <span class="kd">public</span> <span class="n">E</span> <span class="nf">pop</span><span class="o">();</span>
    <span class="kd">public</span> <span class="n">E</span> <span class="nf">top</span><span class="o">();</span>
<span class="o">}</span></code></pre></div>

<p>L’uso dei generics mi permette di non definire l’interfaccia per un tipo specifico.</p>

<p>Anche in questo caso possiamo realizzare un implementazione in vari modi, sia utilizzando strutture indicizzate che collegate.. </p>

<p>Il JDK fornisce comunque un implementazione di tutto rispetto sia per risolvere il problema degli Stack che delle Queue e lo fa con un unica interfaccia <code>Deque&lt;E&gt;</code> da cui derivano le classi concrete <code>ArrayDeque</code>, <code>ConcurrentLinkedDeque</code>, <code>LinkedBlockingDeque</code>, <code>LinkedList</code></p>

<p>Deque definisce metodi sia per realizzare uno Stack che una Queue, vi rimando al javadoc per una trattazione più esauriente e mi limito a riportarne la lista.</p>

<ul>
  <li>Per il metodo <code>push(e)</code> abbiamo <code>addFirst(e)</code></li>
  <li>Per il <code>pop()</code> abbiamo <code>removeFirst()</code></li>
  <li>Per il <code>peek()</code> o <code>top()</code> invece <code>peekFirst()</code></li>
</ul>

<p><code>Deque&lt;E&gt;</code> implementa l’interfaccia <code>Queue&lt;E&gt;</code> , interfaccia implementata anche dalle classi
<code>AbstractQueue</code>, <code>ArrayBlockingQueue</code>, <code>ArrayDeque</code>, <code>ConcurrentLinkedDeque</code>, <code>ConcurrentLinkedQueue</code>, <code>DelayQueue</code>, <code>LinkedBlockingDeque</code>, <code>LinkedBlockingQueue</code>, <code>LinkedList</code>, <code>LinkedTransferQueue</code>, <code>PriorityBlockingQueue</code>, <code>PriorityQueue</code>,<code>SynchronousQueue</code>.</p>

<p>La via più facile è utilizzare la vecchia classe <code>Stack</code> di <code>java.util</code>, ma non ne avremo grandi vantaggi, deriva dalla classe <code>Vector</code> ed è disponibile dalla versione 1.0 del JDK</p>

<div class="highlight"><pre><code class="java"><span class="n">Stack</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">lifo</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">&lt;&gt;();</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    <span class="n">lifo</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
<span class="o">}</span>
<span class="k">while</span> <span class="o">(!</span><span class="n">lifo</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">lifo</span><span class="o">.</span><span class="na">pop</span><span class="o">());</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="sc">&#39;,&#39;</span><span class="o">);</span>
<span class="o">}</span></code></pre></div>

<p>La classe consigliata è <code>ArrayDeque&lt;E&gt;</code> un semplice caso d’uso è il seguente</p>

<div class="highlight"><pre><code class="java"><span class="n">Deque</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">stack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayDeque</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
<span class="n">stack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
<span class="kt">boolean</span> <span class="n">isEmpty</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">();</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span></code></pre></div>

